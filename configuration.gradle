/*
 * *************************************************************************************************
 *                                 Copyright 2018 Universum Studios
 * *************************************************************************************************
 *                  Licensed under the Apache License, Version 2.0 (the "License")
 * -------------------------------------------------------------------------------------------------
 * You may not use this file except in compliance with the License. You may obtain a copy of the
 * License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied.
 *
 * See the License for the specific language governing permissions and limitations under the License.
 * *************************************************************************************************
 */

def libraryConfig = [
        name   : 'websocket_adapter',
        version: [
                production : '1.0.0',
                development: '1.0.0'
        ]
]

def githubConfig = [
        owner      : 'universum-studios',
        repository : libraryConfig.name,
        accessToken: System.getenv('GITHUB_API_TOKEN')
]

def pomConfig = [
        groupId   : 'universum.studios',
        artifactId: 'websocket-adapter',
        version   : libraryConfig.version.development,
        packaging : 'pom',
        project   : [
                name           : 'WebSocket Adapter',
                description    : 'Socket implementation that wraps asynchronous nature of WebSocket.',
                url            : "https://github.com/${githubConfig.owner}/${githubConfig.repository}",
                inceptionYear  : '2017',
                issueManagement: [
                        system: 'Issue Tracker',
                        url   : "https://github.com/${githubConfig.owner}/${githubConfig.repository}/issues"
                ],
                licenses       : [
                        Apache20: [
                                name        : 'The Apache Software License, Version 2.0',
                                url         : 'http://www.apache.org/licenses/LICENSE-2.0.txt',
                                distribution: 'repo'
                        ]
                ],
                organization   : [
                        name: 'Universum Studios',
                        url : 'https://universum-studios.github.io'
                ],
                developers     : [
                        albedinsky: [
                                id   : 'albedinsky',
                                name : 'Martin Albedinsky',
                                email: 'martin.albedinsky@gmail.com',
                                role : 'Software Engineer'
                        ]
                ]
        ]
]

def javadocConfig = [
        title    : "${pomConfig.project.name} API",
        header   : "Version ${pomConfig.version} Documentation",
        reference: [online: "https://universum-studios.github.io/${libraryConfig.name}/reference/1.x"]
]

def mavenConfig = [localUrl: System.getenv('MAVEN_URL_LOCAL')]

def bintrayConfig = [
        publish: false,
        package: [
                organization      : 'universum-studios',
                repository        : 'java',
                name              : "${pomConfig.groupId}:${pomConfig.artifactId}",
                vcsUrl            : "${pomConfig.project.url}.git",
                labels            : ['java', 'websocket', 'adapter'],
                versionName       : pomConfig.version,
                versionDescription: 'Release patch.',
                versionTag        : "v${pomConfig.version}"
        ]
]

def codacyConfig = [
        tokensPath : System.getenv('CODACY_PROJECT_TOKENS'),
        projectName: "java_${githubConfig.repository}"
]

ext.config = [
        "library": libraryConfig,
        "github" : githubConfig,
        "pom"    : pomConfig,
        "javadoc": javadocConfig,
        "maven"  : mavenConfig,
        "bintray": bintrayConfig,
        "codacy" : codacyConfig
]